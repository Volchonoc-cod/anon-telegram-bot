#!/bin/bash

# check_logs.sh - ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð»Ð¾Ð³Ð¾Ð² Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ° Ð¾Ñ‚Ñ‡ÐµÑ‚Ð°

cd /home/yourusername/anon_bot

LOG_REPORT="/tmp/bot_log_report.txt"

echo "ðŸ“Š ÐžÑ‚Ñ‡ÐµÑ‚ Ð¿Ð¾ Ð»Ð¾Ð³Ð°Ð¼ Ð±Ð¾Ñ‚Ð° - $(date)" > $LOG_REPORT
echo "=================================" >> $LOG_REPORT

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ð¾ÑˆÐ¸Ð±ÐºÐ¸ Ð·Ð° Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ 24 Ñ‡Ð°ÑÐ°
echo "ðŸš¨ ÐžÑˆÐ¸Ð±ÐºÐ¸ Ð·Ð° Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ 24 Ñ‡Ð°ÑÐ°:" >> $LOG_REPORT
grep -i "error\|critical\|exception" logs/bot.log | tail -20 >> $LOG_REPORT

echo "" >> $LOG_REPORT
echo "ðŸ“ˆ Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐºÐ¾Ð²:" >> $LOG_REPORT
grep -c "Bot started" logs/monitor.log >> $LOG_REPORT

echo "" >> $LOG_REPORT
echo "ðŸ’¾ Ð Ð°Ð·Ð¼ÐµÑ€Ñ‹ Ð»Ð¾Ð³Ð¾Ð²:" >> $LOG_REPORT
ls -lh logs/*.log >> $LOG_REPORT

echo "âœ… Log check completed at $(date)" >> $LOG_REPORT